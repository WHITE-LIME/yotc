# Разбор задания для демо-экзамена

* [Описание предметной области](#Описание-предметной-области)
* [Сессия 1](../articles/demo_session1.md)
    * [диаграмма прецедентов (Use Case)](#Проектирование-требований)
    * [спецификации к UseCase](#Спецификации-к-UseCase)
    * [UML-диаграммы (диаграмма последовательности)](#Проектирование-UML-диаграмм)
    * [проектирование ERD](#Проектирование-ERD)
    * [словарь данных](#Словарь-данных)
    * [разработка баз данных по ERD](#Разработка-базы-данных-по-ERD)
    * [импорт данных](#Импорт-данных)
    * [создание объектов базы данных](Создание-объектов-базы-данных)
        * триггер
        * представление


## Описание предметной области

Наш автосервис “Доеду сам” вдобавок к оказываемым услугам продает запчасти для автомобилей. Клиентам очень удобно, что теперь нет необходимости заранее заказывать в сторонних магазинах нужные для ремонта запчасти. Однако для администраторов сервиса необходима система для учета товаров.

Вам предстоит разработать подсистему для работы с товарами нашей компании, которая должна включать в себя следующий функционал:

* просмотр списка товаров
* добавление/удаление/редактирование данных о товарах
* предложения дополнительных товаров к основным
* просмотр истории покупок товаров автосервиса

## Проектирование требований

Для согласования процесса разработки с заказчиком Вам необходимо ознакомиться с описанием предметной области и сделать диаграмму прецедентов (Use Case) для основных пользователей системы.
Сохраните файл с диаграммой в удобном для вас формате (PDF или Visio), используя в качестве названия следующий шаблон: UseCase_XX, где XX - номер вашего рабочего места.

## Спецификации к UseCase

Создайте спецификации к 3 самым важным прецедентам предметной области по вашему мнению. Не забудьте указать в каждой спецификации название прецедента, актера, цель выполнения прецедента, предусловия, главную последовательность по шагам, альтернативные последовательности и постусловия.

## Проектирование UML-диаграмм

На основании описания процесса оказания услуги в описании предметной области Вам необходимо создать диаграмму последовательности (Sequence) для моделирования отношений между объектами.
Обратите внимание на объекты, участвующие в данном процессе, их линии жизни, сообщения и действия (методы), которые передают друг другу объекты, а также на последовательность обмена этими
сообщениями. Сохраните файл с диаграммой в удобном для вас формате (PDF или Visio), используя в качестве названия следующий шаблон: `Sequence_XX`, где XX - номер вашего рабочего места.

## Проектирование ERD

На основе описания предметной области Вам необходимо спроектировать ER-диаграмму для будущей системы. Обязательна 3 нормальная форма с обеспечением ссылочной целостности. При разработке диаграммы обратите внимание на согласованную осмысленную схему именования, создайте необходимые первичные и внешние ключи, определите ограничения внешних ключей, отражающие характер предметной области. Сохраните файл с диаграммой в удобном для вас формате (PDF или Visio), используя в качестве названия следующий шаблон: `ERD_XX`, где XX - номер вашего рабочего места.

## Словарь данных

Для диаграммы ER необходимо создать словарь данных – набор информации, описывающий, какой тип данных хранится в базе данных, их формат, структуру и способы использования данных. Обратите внимание на соответствие вашей диаграммы и словаря данных. Используйте подходящие типы данных, ограничения и форматы. Отразите в документе ограничения, определенные в таблицах, включая первичные ключи, отношения внешнего ключа с другими таблицами и ненулевые ограничения. Не забудьте сделать необходимые пояснения и комментарии к неоднозначным полям. В качестве шаблона словаря необходимо использовать файл `DataDictionary_Template.xlsx`. Сохраните итоговый документ со словарем данных в удобном для вас формате (PDF или Excel), используя в качестве названия следующий шаблон: `DD_XX`, где XX - номер вашего рабочего места.

## Разработка базы данных по ERD

На основании созданной вами ER-диаграммы создайте базу данных в выбранной СУБД. На данном этапе нет необходимости воспроизводить все сущности, выделенные на этапе проектирования, достаточно
будет создания таблиц, полей с подходящими типами данных и связей, непосредственно относящихся к разрабатываемой подсистеме и функционалу, который был определен во введении.

## Импорт данных

Заказчик системы предоставил файлы с данными (с пометкой import в ресурсах) для переноса в новую систему. Подготовьте данные файлов для импорта и загрузите в разработанную базу данных.

### Создание объектов базы данных

#### Триггер (Trigger)

Реализуйте триггер, который будет срабатывать на добавление данных в таблицу прикрепленных товаров и отменять данную операцию при попытке прикрепить неактивный товар. Название триггера должно соответствовать шаблону `TR_<TableName>_<ActionName>`, например, `TR_OrderDetails_AfterUpdate`.


#### Представление (View)

Создайте в базе данных представление (View) с названием `vw_ProductDetails` для отображения списка товаров со следующими столбцами: Наименование, Стоимость (с округлением до целых), Активность (со значениями ДА или НЕТ), Производитель (наименование), Количество изображений (дополнительно
прикрепленных к товару), Количество товаров (дополнительно прикрепленных к этому), Дата последней продажи, Объем последних продаж (общее количество проданных товаров за последние 3 месяца), Среднее количество продаж в год. При создании представления сохраняйте названия столбцов в соответствии с описанием, используя алиасы.
